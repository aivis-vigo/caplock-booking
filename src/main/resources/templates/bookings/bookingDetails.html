<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Booking Details</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 900px; margin: 20px auto; }
        .card { border: 1px solid #ddd; border-radius: 8px; padding: 16px; margin-bottom: 16px; }
        .row { display: flex; gap: 20px; flex-wrap: wrap; }
        .col { flex: 1; min-width: 260px; }
        .label { font-weight: bold; margin-top: 10px; }
        .actions { margin-top: 16px; display: flex; gap: 10px; }
        .btn { padding: 10px 16px; border: 0; border-radius: 6px; cursor: pointer; }
        .btn-danger { background: #c0392b; color: #fff; }
        .btn-back { background: #999; color: #fff; text-decoration: none; display: inline-block; }
    </style>
</head>
<body>

<h1>Booking Details</h1>

<div class="row">
    <div class="col card">
        <h2>Booking</h2>

        <div class="label">Booking ID</div>
        <div th:text="${bookingDetails.bookingDto.id}">B-1</div>

        <div class="label">Status</div>
        <div th:text="${bookingDetails.bookingDto.status}">OPEN</div>

        <div class="label">Quantity</div>
        <div th:text="${bookingDetails.bookingDto.qty}">1</div>

        <div class="label">User ID</div>
        <div th:text="${bookingDetails.bookingDto.userId}">1</div>

        <div class="actions">
            <!-- Use POST for delete/cancel (HTML forms donâ€™t support DELETE without extra setup) -->
            <form th:action="@{/bookings/details/delete/{id}(id=${bookingDetails.bookingDto.id})}" method="post">
                <button type="submit">Cancel Booking</button>
            </form>

            <a class="btn btn-back" th:href="@{/bookings/Bookings}">Back</a>
        </div>
    </div>

    <div class="col card">
        <h2>Event</h2>

        <div th:if="${bookingDetails.eventDto == null}">
            <em>Event not found.</em>
        </div>

        <div th:if="${bookingDetails.eventDto != null}">
            <div class="label">Event ID</div>
            <div th:text="${bookingDetails.eventDto.id}">1</div>

            <div class="label">Title</div>
            <div th:text="${bookingDetails.eventDto.title}">Title</div>

            <div class="label">Date</div>
            <div th:text="${#temporals.format(bookingDetails.eventDto.eventDate, 'yyyy-MM-dd HH:mm')}">2026-02-20 10:00</div>

            <div class="label">Location</div>
            <div th:text="${bookingDetails.eventDto.location}">Room 101</div>

            <div class="label">Duration (min)</div>
            <div th:text="${bookingDetails.eventDto.duration}">120</div>

            <div class="label">Status</div>
            <div th:text="${bookingDetails.eventDto.status}">OPEN</div>

            <div class="label">Category</div>
            <div th:text="${bookingDetails.eventDto.category}">Tech</div>
        </div>
    </div>
</div>

</body>
</html>
